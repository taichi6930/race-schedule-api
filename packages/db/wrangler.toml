## wrangler.toml（DBパッケージ用テンプレート）
## - このファイルはCIワークフローで使用され、リポジトリにコミットされます。
## - CIワークフローは `sed` により `database_id` のプレースホルダ（"production" / "test"）を
##   GitHub Secrets に設定された実際のDB ID（DB_ID_PROD / DB_ID_TEST）に置換してからマイグレーションを実行します。

name = "race-schedule-db"
compatibility_date = "2024-09-23"

[[d1_databases]]
binding = "DB"
database_name = "race-schedule-db"
database_id = "preview"
migrations_dir = "./migrations"

[env.production]
name = "race-schedule-db-prod"

[[env.production.d1_databases]]
binding = "DB"
database_name = "race-schedule-db-prod"
database_id = "production"
migrations_dir = "./migrations"

[env.test]
name = "race-schedule-db-test"

[[env.test.d1_databases]]
binding = "DB"
database_name = "race-schedule-db-test"
database_id = "test"
migrations_dir = "./migrations"

